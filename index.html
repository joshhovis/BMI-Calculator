<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>BMI Calculator</title>
        <link rel="stylesheet" href="app.css" />
    </head>
    <body>
        <div class="hero">
            <h1 class="hero-title">Body Mass Index Calculator</h1>
            <p class="hero-description">
                Better understand your weight in relation to your height using
                our body mass index (BM) calculator. While BMI is not the sole
                determinant of a healthy weight, it offers a valuable starting
                point to evaluate your overall health and well-being.
            </p>
            <div class="hero-input">
                <h2 class="hero-input-header">Enter your details below</h2>
                <div class="radio-group">
                    <label class="radio-button"
                        ><input type="radio" name="radio" value="1" checked />
                        Metric <span></span
                    ></label>
                    <label class="radio-button"
                        ><input type="radio" name="radio" value="2" /> Imperial
                        <span></span
                    ></label>
                </div>

                <div class="input-group">
                    <label class="input-group-height">
                        Height
                        <input class="input-height" type="text" name="height" />
                        <span class="height-unit">cm</span>
                    </label>

                    <label class="input-group-weight">
                        Weight
                        <input class="input-weight" type="text" name="weight" />
                        <span class="weight-unit">kg</span>
                    </label>
                </div>

                <div class="input-results">
                    <h2 class="input-results-header">Welcome!</h2>
                    <p class="input-results-description">
                        Enter your height and weight and you'll see your BMI
                        result here
                    </p>
                </div>
            </div>
        </div>

        <script>
            document.addEventListener("DOMContentLoaded", () => {
                const radioButtons =
                    document.querySelectorAll("input[name=radio]");
                const heightInput = document.querySelector(".input-height");
                const weightInput = document.querySelector(".input-weight");
                const resultsHeader = document.querySelector(
                    ".input-results-header"
                );
                const resultsDescription = document.querySelector(
                    ".input-results-description"
                );
                const heightUnit = document.querySelector(".height-unit");
                const weightUnit = document.querySelector(".weight-unit");

                function calculateBMI() {
                    const height = parseFloat(heightInput.value);
                    const weight = parseFloat(weightInput.value);
                    let bmi;

                    // Return error message if user does not enter a number
                    if (isNaN(height) || isNaN(weight)) {
                        resultsDescription.textContent =
                            "Please enter a valid height and weight";
                        return;
                    }

                    if (
                        document.querySelector('input[name="radio"]:checked')
                            .value === "1"
                    ) {
                        // Metric
                        bmi = (weight / height ** 2) * 10000;
                    } else {
                        // Imperial
                        bmi = (weight / height ** 2) * 703;
                    }

                    resultsHeader.innerHTML = `
                    Your BMI is... <span class="bmi">${bmi.toFixed(1)}</span>`;
                    resultsDescription.innerHTML = `
                    Your BMI suggests you're a healthy weight. Your ideal weight is between <span class="weight-range">63.3kgs - 85.2kgs</span>.
                    `;
                }

                radioButtons.forEach((radio) => {
                    radio.addEventListener("change", () => {
                        if (radio.value === "1") {
                            heightUnit.textContent = "cm";
                            weightUnit.textContent = "kg";
                        } else {
                            heightUnit.textContent = "inches";
                            weightUnit.textContent = "lbs";
                        }
                        calculateBMI();
                    });
                });

                heightInput.addEventListener("input", calculateBMI);
                weightInput.addEventListener("input", calculateBMI);
            });
        </script>
    </body>
</html>
